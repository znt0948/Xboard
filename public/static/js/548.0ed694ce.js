"use strict";(self.webpackChunkez_theme=self.webpackChunkez_theme||[]).push([[548],{10548:(e,a,l)=>{l.r(a),l.d(a,{default:()=>_a});var n=l(59258),s=l(54119),t=l(41034),i=l(20908),r=l(30388),o=(l(28706),l(74423),l(64346),l(34782),l(26910),l(23288),l(2892),l(26099),l(16034),l(27495),l(21699),l(47764),l(25440),l(62953),l(76031),l(20641)),c=l(90033),u=l(50953),d=l(53751),v=l(46992),f=l(5499),p=l(92549),k=l(49586),m=l(25226),b=l(33366);var L=l(58044),g=l(80394),w={class:"profile-container"},h={class:"profile-inner"},_={class:"dashboard-card welcome-card"},C={class:"card-header"},y={class:"card-title"},R={class:"card-body"},$={key:0,class:"profile-skeleton"},P={key:1,class:"error-state"},E={key:2,class:"profile-content"},A={class:"profile-card"},K={class:"card-header"},X={class:"info-content"},F={class:"info-list"},x={class:"info-item"},S={class:"info-label"},z={class:"info-value"},Q={class:"info-item"},D={class:"info-label"},I={class:"info-value"},O={key:0,class:"profile-card"},W={class:"card-header"},N={class:"settings-content"},T={class:"gift-card-form"},M={class:"input-group"},q=["placeholder"],U=["disabled"],G={key:0,class:"loader"},V={class:"profile-card"},B={class:"card-header"},H={class:"settings-content"},j={class:"setting-item"},J={class:"setting-info"},Y={class:"setting-label"},Z={class:"setting-description"},ee={class:"setting-toggle"},ae=["disabled"],le={class:"setting-item"},ne={class:"setting-info"},se={class:"setting-label"},te={class:"setting-description"},ie={class:"setting-toggle"},re=["disabled"],oe={class:"profile-card"},ce={class:"card-header"},ue={class:"settings-content"},de={class:"setting-item"},ve={class:"setting-info"},fe={class:"setting-label"},pe={class:"setting-description"},ke={class:"setting-toggle"},me=["disabled"],be={class:"profile-card"},Le={class:"card-header"},ge={class:"settings-content"},we={class:"action-buttons"},he={key:1,class:"profile-card"},_e={class:"card-header"},Ce={class:"settings-content"},ye={key:0,class:"telegram-loading"},Re={class:"action-buttons"},$e={key:2,class:"profile-card"},Pe={class:"card-header"},Ee={class:"settings-content"},Ae={class:"action-buttons"},Ke={key:0,class:"subscription-info"},Xe={class:"subscription-url"},Fe={key:3,class:"profile-card"},xe={class:"card-header"},Se={class:"settings-content"},ze={key:0,class:"device-loading"},Qe={key:1,class:"device-error"},De={key:2,class:"device-empty"},Ie={key:3,class:"device-list"},Oe={class:"device-icon"},We={class:"device-info"},Ne={class:"device-name"},Te={class:"device-meta"},Me={class:"device-ip"},qe={class:"device-time"},Ue={class:"modal-header"},Ge={class:"modal-body"},Ve={class:"form-group"},Be=["placeholder"],He={class:"form-group"},je=["placeholder"],Je={class:"form-group"},Ye=["placeholder"],Ze={key:0,class:"error-text"},ea={class:"modal-footer"},aa=["disabled"],la={key:0,class:"loader"},na={class:"modal-header"},sa={class:"modal-body"},ta={class:"modal-footer"},ia=["disabled"],ra={key:0,class:"loader"},oa={class:"modal-header"},ca={class:"modal-body"},ua={class:"step-container"},da={class:"step-item"},va={class:"step-number"},fa={class:"step-content"},pa=["href"],ka={class:"step-item"},ma={class:"step-number"},ba={class:"step-content"},La={class:"command-container"},ga={class:"command-text"},wa={class:"modal-footer"};const ha=Object.assign({name:"UserProfile"},{__name:"UserProfile",setup:function(e){(0,L.reloadMessages)();var a,l=(0,v.s9)().t,ha=(a=(0,b.d)().showToast,{success:function(e){a(e,"success",arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3)},error:function(e){a(e,"error",arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3)},warning:function(e){a(e,"warning",arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3)},info:function(e){a(e,"info",arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3)}}),_a=ha.success,Ca=ha.error,ya=(0,u.KR)(!0),Ra=(0,u.KR)(""),$a=(0,u.KR)({}),Pa=(0,u.KR)(!1),Ea=(0,u.KR)(!1),Aa=(0,u.KR)(!1),Ka=(0,u.KR)(!1),Xa=(0,u.KR)(!1),Fa=(0,u.KR)(!1),xa=(0,u.KR)(!1),Sa=(0,u.KR)(""),za=(0,u.KR)({is_telegram:0,telegram_discuss_link:""}),Qa=(0,u.KR)(null),Da=(0,u.KR)(!1),Ia=(0,u.KR)(""),Oa=(0,u.KR)(!1),Wa=(0,u.KR)([]),Na=(0,u.KR)(!1),Ta=(0,u.KR)(""),Ma=(0,u.KR)(""),qa=(0,u.KR)(!1),Ua=(0,u.KR)(!1),Ga=(0,u.KR)(!1),Va=(0,u.KR)(!1),Ba=(0,u.KR)(!1),Ha=(0,u.KR)(g.DASHBOARD_CONFIG.showImportSubscription),ja=(0,u.KR)({oldPassword:"",newPassword:"",confirmPassword:""}),Ja=(0,o.EW)(function(){return!!ja.value.confirmPassword&&ja.value.newPassword!==ja.value.confirmPassword}),Ya=function(){return ja.value.oldPassword&&ja.value.newPassword&&ja.value.confirmPassword&&!Ja.value},Za=(0,f.lq)(),el=(0,f.rd)(),al=function(){var e=(0,r.A)((0,i.A)().m(function e(){var a,n,s,t=arguments;return(0,i.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return(a=!(t.length>0&&void 0!==t[0])||t[0])&&(ya.value=!0),Ra.value="",e.p=1,e.n=2,(0,p.ug)();case 2:if(!(n=e.v)||!n.data){e.n=4;break}return $a.value=n.data,Xa.value=!!n.data.remind_expire,Fa.value=!!n.data.remind_traffic,xa.value=!!n.data.auto_renewal,e.n=3,nl();case 3:e.n=5;break;case 4:Ra.value=l("common.unknownError");case 5:e.n=7;break;case 6:e.p=6,s=e.v,Ra.value=(null==s?void 0:s.message)||l("common.networkError"),Ca(Ra.value);case 7:return e.p=7,!a||Da.value||Na.value||(ya.value=!1),ll(),e.f(7);case 8:return e.a(2)}},e,null,[[1,6,7,8]])}));return function(){return e.apply(this,arguments)}}(),ll=function(){"true"===Za.query.openPasswordModal&&setTimeout(function(){Pa.value=!0;var e=(0,t.A)({},Za.query);delete e.openPasswordModal,el.replace({query:e})},500)};(0,o.wB)(function(){return Za.query},function(e){"true"===e.openPasswordModal&&setTimeout(function(){Pa.value=!0;var a=(0,t.A)({},e);delete a.openPasswordModal,el.replace({query:a})},500)},{immediate:!0});var nl=function(){var e=(0,r.A)((0,i.A)().m(function e(){var a;return(0,i.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,(0,p._8)();case 1:(a=e.v)&&a.data&&(Sa.value=a.data.subscribe_url||""),e.n=3;break;case 2:e.p=2,e.v;case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),sl=function(){var e=(0,r.A)((0,i.A)().m(function e(){var a,l;return(0,i.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return Da.value=!0,Ia.value="",e.p=1,e.n=2,(0,p.l8)();case 2:return(a=e.v)&&a.data&&(za.value=a.data),e.p=3,e.n=4,(0,p.JI)();case 4:(l=e.v)&&l.data&&(l.data.message&&l.data.message.includes("Not Found")?Qa.value=null:Qa.value=l.data),e.n=6;break;case 5:e.p=5,e.v,Qa.value=null;case 6:e.n=8;break;case 7:e.p=7,e.v,za.value=null,Qa.value=null;case 8:return e.p=8,Da.value=!1,ya.value||Na.value||(ya.value=!1),e.f(8);case 9:return e.a(2)}},e,null,[[3,5],[1,7,8,9]])}));return function(){return e.apply(this,arguments)}}(),tl=function(){za.value&&za.value.telegram_discuss_link&&window.open(za.value.telegram_discuss_link,"_blank")},il=function(){Oa.value=!0},rl=function(){Oa.value=!1},ol=function(){if(Qa.value&&Sa.value){var e="/bind ".concat(Sa.value);navigator.clipboard.writeText(e).then(function(){_a(l("profile.commandCopied"))}).catch(function(e){Ra(l("common.copyFailed"))})}},cl=function(){var e=(0,r.A)((0,i.A)().m(function e(a){var n,s;return(0,i.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return Ua.value=!0,"expire"===a?Ga.value=!0:"traffic"===a?Va.value=!0:"auto_renewal"===a&&(Ba.value=!0),e.p=1,n={remind_expire:Xa.value?1:0,remind_traffic:Fa.value?1:0,auto_renewal:xa.value?1:0},e.n=2,(0,p.WI)(n);case 2:(s=e.v)&&s.data&&_a(l("profile.updateSuccess")),e.n=4;break;case 3:e.p=3,e.v,Xa.value=!!$a.value.remind_expire,Fa.value=!!$a.value.remind_traffic,xa.value=!!$a.value.auto_renewal,Ca(l("profile.updateError"));case 4:return e.p=4,e.n=5,al(!1);case 5:return Ua.value=!1,Ga.value=!1,Va.value=!1,Ba.value=!1,e.f(4);case 6:return e.a(2)}},e,null,[[1,3,4,6]])}));return function(a){return e.apply(this,arguments)}}(),ul=function(){var e=(0,r.A)((0,i.A)().m(function e(){var a,n;return(0,i.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if(Ya()){e.n=1;break}return e.a(2);case 1:return Aa.value=!0,e.p=2,a={old_password:ja.value.oldPassword,new_password:ja.value.newPassword},e.n=3,(0,p.ec)(a);case 3:(n=e.v)&&n.data&&(_a(l("profile.passwordChanged")),ja.value={oldPassword:"",newPassword:"",confirmPassword:""},Pa.value=!1),e.n=5;break;case 4:e.p=4,e.v,Ca(l("profile.passwordError"));case 5:return e.p=5,Aa.value=!1,e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}));return function(){return e.apply(this,arguments)}}(),dl=function(){var e=(0,r.A)((0,i.A)().m(function e(){var a;return(0,i.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return Ka.value=!0,e.p=1,e.n=2,(0,p.uT)();case 2:(a=e.v)&&a.data&&(Sa.value=a.data,_a(l("profile.resetSuccess")),Ea.value=!1),e.n=4;break;case 3:e.p=3,e.v,Ca(l("profile.resetError"));case 4:return e.p=4,Ka.value=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}(),vl=function(){Sa.value&&navigator.clipboard.writeText(Sa.value).then(function(){_a(l("profile.subscriptionCopied"))}).catch(function(e){})},fl=function(){var e=(0,r.A)((0,i.A)().m(function e(){var a;return(0,i.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if(Ma.value){e.n=1;break}return Ca(l("profile.giftCardEmpty")),e.a(2);case 1:return qa.value=!0,e.p=2,e.n=3,(0,p.Ng)(Ma.value);case 3:if(!(a=e.v)||!a.data){e.n=4;break}return _a(l("profile.giftCardSuccess")),Ma.value="",e.n=4,al(!1);case 4:e.n=6;break;case 5:e.p=5,e.v,Ca(l("profile.giftCardError"));case 6:return e.p=6,qa.value=!1,e.f(6);case 7:return e.a(2)}},e,null,[[2,5,6,7]])}));return function(){return e.apply(this,arguments)}}(),pl=function(){var e=(0,r.A)((0,i.A)().m(function e(){var a,n,t,r;return(0,i.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return Na.value=!0,Ta.value="",e.p=1,e.n=2,(0,p.lH)();case 2:(a=e.v)&&a.data?(n=Array.isArray(a.data)?a.data:"object"===(0,s.A)(a.data)&&null!==a.data?Object.values(a.data):[],t=n.sort(function(e,a){return e.login_at&&a.login_at?a.login_at-e.login_at:0}),Wa.value=t.slice(0,10)):Ta.value=l("profile.sessionError"),e.n=4;break;case 3:e.p=3,r=e.v,Ta.value=(null==r?void 0:r.message)||l("common.networkError");case 4:return e.p=4,Na.value=!1,ya.value||Da.value||(ya.value=!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}(),kl=function(e){if(!e)return m.GeN;var a=e.toLowerCase();return a.includes("iphone")||a.includes("ipad")||a.includes("ipod")||a.includes("android")?m.q2Q:a.includes("windows")||a.includes("macintosh")||a.includes("mac os")||a.includes("linux")?m.vk8:m.GeN},ml=function(e){if(!e)return l("profile.unknownDevice");var a=e.toLowerCase(),n="",s="";return n=a.includes("iphone")?"iPhone":a.includes("ipad")?"iPad":a.includes("ipod")?"iPod":a.includes("android")?"Android":a.includes("windows")?"Windows":a.includes("macintosh")||a.includes("mac os")?"MacOS":a.includes("linux")?"Linux":l("profile.unknownDevice"),s=a.includes("edg/")||a.includes("edge/")?"Edge":a.includes("chrome/")&&!a.includes("chromium/")?"Chrome":a.includes("firefox/")?"Firefox":!a.includes("safari/")||a.includes("chrome/")||a.includes("android")?a.includes("opera/")||a.includes("opr/")?"Opera":l("profile.unknownBrowser"):"Safari","".concat(n," - ").concat(s)},bl=function(e){if(!e)return"";var a=Number(e);if(isNaN(a))return"";if(a<0||a>4102444800)return"";try{var l=new Date(1e3*a);return new Intl.DateTimeFormat("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(l)}catch(e){return""}};return(0,o.sV)(function(){ya.value=!0,Promise.all([al(!1),g.PROFILE_CONFIG.showRecentDevices?pl():Promise.resolve(),sl()]).finally(function(){ya.value=!1,ll()})}),function(e,a){var l,s;return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",w,[(0,o.Lk)("div",h,[(0,o.Lk)("div",_,[(0,o.Lk)("div",C,[(0,o.Lk)("h2",y,(0,c.v_)(e.$t("profile.title")),1)]),(0,o.Lk)("div",R,[(0,o.Lk)("p",null,(0,c.v_)(e.$t("common.welcome")),1)])]),ya.value?((0,o.uX)(),(0,o.CE)("div",$,(0,n.A)(a[21]||(a[21]=[(0,o.Fv)('<div class="profile-card" data-v-5aacb999><div class="card-header" data-v-5aacb999><div class="skeleton-line skeleton-title" data-v-5aacb999></div></div><div class="skeleton-content" data-v-5aacb999><div class="skeleton-item" data-v-5aacb999><div class="skeleton-label" data-v-5aacb999></div><div class="skeleton-value" data-v-5aacb999></div></div><div class="skeleton-item" data-v-5aacb999><div class="skeleton-label" data-v-5aacb999></div><div class="skeleton-value" data-v-5aacb999></div></div></div></div><div class="profile-card" data-v-5aacb999><div class="card-header" data-v-5aacb999><div class="skeleton-line skeleton-title" data-v-5aacb999></div></div><div class="skeleton-content" data-v-5aacb999><div class="skeleton-item skeleton-setting" data-v-5aacb999><div class="skeleton-text" data-v-5aacb999><div class="skeleton-label" data-v-5aacb999></div><div class="skeleton-description" data-v-5aacb999></div></div><div class="skeleton-toggle" data-v-5aacb999></div></div><div class="skeleton-item skeleton-setting" data-v-5aacb999><div class="skeleton-text" data-v-5aacb999><div class="skeleton-label" data-v-5aacb999></div><div class="skeleton-description" data-v-5aacb999></div></div><div class="skeleton-toggle" data-v-5aacb999></div></div></div></div><div class="profile-card" data-v-5aacb999><div class="card-header" data-v-5aacb999><div class="skeleton-line skeleton-title" data-v-5aacb999></div></div><div class="skeleton-content" data-v-5aacb999><div class="skeleton-button" data-v-5aacb999></div></div></div>',3)])))):Ra.value?((0,o.uX)(),(0,o.CE)("div",P,[(0,o.bF)((0,u.R1)(m.QO),{size:48,class:"error-icon"}),(0,o.Lk)("p",null,(0,c.v_)(Ra.value),1),(0,o.Lk)("button",{class:"retry-button",onClick:al},(0,c.v_)(e.$t("common.retry")),1)])):((0,o.uX)(),(0,o.CE)("div",E,[(0,o.Lk)("div",A,[(0,o.Lk)("div",K,[(0,o.Lk)("h3",null,(0,c.v_)(e.$t("profile.basicInfo")),1)]),(0,o.Lk)("div",X,[(0,o.Lk)("div",F,[(0,o.Lk)("div",x,[(0,o.Lk)("span",S,(0,c.v_)(e.$t("profile.email")),1),(0,o.Lk)("span",z,(0,c.v_)($a.value.email),1)]),(0,o.Lk)("div",Q,[(0,o.Lk)("span",D,(0,c.v_)(e.$t("profile.createdAt")),1),(0,o.Lk)("span",I,(0,c.v_)((0,u.R1)(k.Yq)($a.value.created_at)),1)])])])]),(0,u.R1)(g.PROFILE_CONFIG).showGiftCardRedeem?((0,o.uX)(),(0,o.CE)("div",O,[(0,o.Lk)("div",W,[(0,o.Lk)("h3",null,(0,c.v_)(e.$t("profile.giftCard")),1)]),(0,o.Lk)("div",N,[(0,o.Lk)("div",T,[(0,o.Lk)("div",M,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=function(e){return Ma.value=e}),placeholder:e.$t("profile.giftCardPlaceholder"),class:"gift-card-input"},null,8,q),[[d.Jo,Ma.value]]),(0,o.Lk)("button",{class:"gift-card-btn",onClick:fl,disabled:qa.value||!Ma.value},[qa.value?((0,o.uX)(),(0,o.CE)("span",G)):((0,o.uX)(),(0,o.Wv)((0,u.R1)(m.cWS),{key:1,size:18})),(0,o.eW)(" "+(0,c.v_)(e.$t("profile.giftCardSubmit")),1)],8,U)])])])])):(0,o.Q3)("",!0),(0,o.Lk)("div",V,[(0,o.Lk)("div",B,[(0,o.Lk)("h3",null,(0,c.v_)(e.$t("profile.notifications")),1)]),(0,o.Lk)("div",H,[(0,o.Lk)("div",j,[(0,o.Lk)("div",J,[(0,o.Lk)("span",Y,(0,c.v_)(e.$t("profile.expireRemind")),1),(0,o.Lk)("span",Z,(0,c.v_)(e.$t("profile.expireRemindDesc")),1)]),(0,o.Lk)("div",ee,[(0,o.Lk)("label",{class:(0,c.C4)(["switch",{disabled:Ua.value}])},[(0,o.bo)((0,o.Lk)("input",{type:"checkbox","onUpdate:modelValue":a[1]||(a[1]=function(e){return Xa.value=e}),onChange:a[2]||(a[2]=function(e){return cl("expire")}),disabled:Ua.value},null,40,ae),[[d.lH,Xa.value]]),(0,o.Lk)("span",{class:(0,c.C4)(["slider round",{loading:Ga.value}])},null,2)],2)])]),(0,o.Lk)("div",le,[(0,o.Lk)("div",ne,[(0,o.Lk)("span",se,(0,c.v_)(e.$t("profile.trafficRemind")),1),(0,o.Lk)("span",te,(0,c.v_)(e.$t("profile.trafficRemindDesc")),1)]),(0,o.Lk)("div",ie,[(0,o.Lk)("label",{class:(0,c.C4)(["switch",{disabled:Ua.value}])},[(0,o.bo)((0,o.Lk)("input",{type:"checkbox","onUpdate:modelValue":a[3]||(a[3]=function(e){return Fa.value=e}),onChange:a[4]||(a[4]=function(e){return cl("traffic")}),disabled:Ua.value},null,40,re),[[d.lH,Fa.value]]),(0,o.Lk)("span",{class:(0,c.C4)(["slider round",{loading:Va.value}])},null,2)],2)])])])]),(0,o.Lk)("div",oe,[(0,o.Lk)("div",ce,[(0,o.Lk)("h3",null,(0,c.v_)(e.$t("profile.accountSettings")),1)]),(0,o.Lk)("div",ue,[(0,o.Lk)("div",de,[(0,o.Lk)("div",ve,[(0,o.Lk)("span",fe,(0,c.v_)(e.$t("profile.autoRenewal")),1),(0,o.Lk)("span",pe,(0,c.v_)(e.$t("profile.autoRenewalDesc")),1)]),(0,o.Lk)("div",ke,[(0,o.Lk)("label",{class:(0,c.C4)(["switch",{disabled:Ua.value}])},[(0,o.bo)((0,o.Lk)("input",{type:"checkbox","onUpdate:modelValue":a[5]||(a[5]=function(e){return xa.value=e}),onChange:a[6]||(a[6]=function(e){return cl("auto_renewal")}),disabled:Ua.value},null,40,me),[[d.lH,xa.value]]),(0,o.Lk)("span",{class:(0,c.C4)(["slider round",{loading:Ba.value}])},null,2)],2)])])])]),(0,o.Lk)("div",be,[(0,o.Lk)("div",Le,[(0,o.Lk)("h3",null,(0,c.v_)(e.$t("profile.security")),1)]),(0,o.Lk)("div",ge,[(0,o.Lk)("div",we,[(0,o.Lk)("button",{class:"action-btn",onClick:a[7]||(a[7]=function(e){return Pa.value=!0})},[(0,o.bF)((0,u.R1)(m.XEb),{size:18}),(0,o.eW)(" "+(0,c.v_)(e.$t("profile.changePassword")),1)])])])]),(null!==(l=za.value)&&void 0!==l&&l.telegram_discuss_link||Qa.value&&Qa.value.username)&&!Da.value?((0,o.uX)(),(0,o.CE)("div",he,[(0,o.Lk)("div",_e,[(0,o.Lk)("h3",null,(0,c.v_)(e.$t("profile.telegram")),1)]),(0,o.Lk)("div",Ce,[Da.value?((0,o.uX)(),(0,o.CE)("div",ye,(0,n.A)(a[22]||(a[22]=[(0,o.Lk)("div",{class:"skeleton-wrapper"},[(0,o.Lk)("div",{class:"skeleton-line",style:{width:"80%",height:"40px","margin-bottom":"12px"}}),(0,o.Lk)("div",{class:"skeleton-line",style:{width:"60%",height:"40px"}})],-1)])))):(0,o.Q3)("",!0),(0,o.Lk)("div",Re,[null!==(s=za.value)&&void 0!==s&&s.telegram_discuss_link?((0,o.uX)(),(0,o.CE)("button",{key:0,class:"action-btn",onClick:tl},[(0,o.bF)((0,u.R1)(m.apC),{size:18}),(0,o.eW)(" "+(0,c.v_)(e.$t("profile.telegramGroup")),1)])):(0,o.Q3)("",!0),Qa.value&&Qa.value.username?((0,o.uX)(),(0,o.CE)("button",{key:1,class:"action-btn",onClick:il},[(0,o.bF)((0,u.R1)(m.apC),{size:18}),(0,o.eW)(" "+(0,c.v_)(e.$t("profile.telegramBot")),1)])):(0,o.Q3)("",!0)])])])):(0,o.Q3)("",!0),Ha.value?((0,o.uX)(),(0,o.CE)("div",$e,[(0,o.Lk)("div",Pe,[(0,o.Lk)("h3",null,(0,c.v_)(e.$t("profile.subscription")),1)]),(0,o.Lk)("div",Ee,[(0,o.Lk)("div",Ae,[(0,o.Lk)("button",{class:"action-btn danger",onClick:a[8]||(a[8]=function(e){return Ea.value=!0})},[(0,o.bF)((0,u.R1)(m.H42),{size:18}),(0,o.eW)(" "+(0,c.v_)(e.$t("profile.resetSecurity")),1)]),Sa.value?((0,o.uX)(),(0,o.CE)("button",{key:0,class:"action-btn",onClick:vl},[(0,o.bF)((0,u.R1)(m.bzS),{size:18}),(0,o.eW)(" "+(0,c.v_)(e.$t("profile.copySubscription")),1)])):(0,o.Q3)("",!0)]),Sa.value?((0,o.uX)(),(0,o.CE)("div",Ke,[(0,o.Lk)("div",Xe,(0,c.v_)(Sa.value),1)])):(0,o.Q3)("",!0)])])):(0,o.Q3)("",!0),(0,u.R1)(g.PROFILE_CONFIG).showRecentDevices?((0,o.uX)(),(0,o.CE)("div",Fe,[(0,o.Lk)("div",xe,[(0,o.Lk)("h3",null,(0,c.v_)(e.$t("profile.recentDevices")),1)]),(0,o.Lk)("div",Se,[Na.value?((0,o.uX)(),(0,o.CE)("div",ze,[((0,o.uX)(),(0,o.CE)(o.FK,null,(0,o.pI)(3,function(e){return(0,o.Lk)("div",{class:"session-skeleton",key:e},(0,n.A)(a[23]||(a[23]=[(0,o.Lk)("div",{class:"session-skeleton-icon"},null,-1),(0,o.Lk)("div",{class:"session-skeleton-content"},[(0,o.Lk)("div",{class:"session-skeleton-title"}),(0,o.Lk)("div",{class:"session-skeleton-info"})],-1)])))}),64))])):Ta.value?((0,o.uX)(),(0,o.CE)("div",Qe,[(0,o.Lk)("p",null,(0,c.v_)(Ta.value),1),(0,o.Lk)("button",{class:"refresh-btn",onClick:pl},(0,c.v_)(e.$t("common.retry")),1)])):0===Wa.value.length?((0,o.uX)(),(0,o.CE)("div",De,[(0,o.bF)((0,u.R1)(m.Hql),{size:48,class:"empty-icon"}),(0,o.Lk)("p",null,(0,c.v_)(e.$t("profile.noDevices")),1)])):((0,o.uX)(),(0,o.CE)("div",Ie,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(Wa.value,function(a,l){return(0,o.uX)(),(0,o.CE)("div",{key:l,class:"device-item"},[(0,o.Lk)("div",Oe,[((0,o.uX)(),(0,o.Wv)((0,o.$y)(kl(a.ua)),{size:24}))]),(0,o.Lk)("div",We,[(0,o.Lk)("div",Ne,(0,c.v_)(ml(a.ua)),1),(0,o.Lk)("div",Te,[(0,o.Lk)("span",Me,(0,c.v_)(a.ip||e.$t("profile.unknownIP")),1),(0,o.Lk)("span",qe,(0,c.v_)(bl(a.login_at)),1)])])])}),128))]))])])):(0,o.Q3)("",!0)])),(0,o.bF)(d.eB,{name:"modal-fade"},{default:(0,o.k6)(function(){return[Pa.value?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"modal-overlay",onClick:a[15]||(a[15]=function(e){return Pa.value=!1})},[(0,o.Lk)("div",{class:"modal-content",onClick:a[14]||(a[14]=(0,d.D$)(function(){},["stop"]))},[(0,o.Lk)("div",Ue,[(0,o.Lk)("h3",null,(0,c.v_)(e.$t("profile.changePasswordTitle")),1),(0,o.Lk)("button",{class:"modal-close",onClick:a[9]||(a[9]=function(e){return Pa.value=!1})},[(0,o.bF)((0,u.R1)(m.MRt),{size:20})])]),(0,o.Lk)("div",Ge,[(0,o.Lk)("div",Ve,[(0,o.Lk)("label",null,(0,c.v_)(e.$t("profile.oldPassword")),1),(0,o.bo)((0,o.Lk)("input",{type:"password","onUpdate:modelValue":a[10]||(a[10]=function(e){return ja.value.oldPassword=e}),placeholder:e.$t("profile.oldPassword")},null,8,Be),[[d.Jo,ja.value.oldPassword]])]),(0,o.Lk)("div",He,[(0,o.Lk)("label",null,(0,c.v_)(e.$t("profile.newPassword")),1),(0,o.bo)((0,o.Lk)("input",{type:"password","onUpdate:modelValue":a[11]||(a[11]=function(e){return ja.value.newPassword=e}),placeholder:e.$t("profile.newPassword")},null,8,je),[[d.Jo,ja.value.newPassword]])]),(0,o.Lk)("div",Je,[(0,o.Lk)("label",null,(0,c.v_)(e.$t("profile.confirmPassword")),1),(0,o.bo)((0,o.Lk)("input",{type:"password","onUpdate:modelValue":a[12]||(a[12]=function(e){return ja.value.confirmPassword=e}),placeholder:e.$t("profile.confirmPassword")},null,8,Ye),[[d.Jo,ja.value.confirmPassword]]),Ja.value?((0,o.uX)(),(0,o.CE)("div",Ze,(0,c.v_)(e.$t("profile.passwordMismatch")),1)):(0,o.Q3)("",!0)])]),(0,o.Lk)("div",ea,[(0,o.Lk)("button",{class:"btn-cancel",onClick:a[13]||(a[13]=function(e){return Pa.value=!1})},(0,c.v_)(e.$t("common.cancel")),1),(0,o.Lk)("button",{class:"btn-submit",onClick:ul,disabled:Aa.value||!Ya()},[Aa.value?((0,o.uX)(),(0,o.CE)("span",la)):(0,o.Q3)("",!0),(0,o.eW)(" "+(0,c.v_)(e.$t("common.submit")),1)],8,aa)])])])):(0,o.Q3)("",!0)]}),_:1}),(0,o.bF)(d.eB,{name:"modal-fade"},{default:(0,o.k6)(function(){return[Ea.value?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"modal-overlay",onClick:a[19]||(a[19]=function(e){return Ea.value=!1})},[(0,o.Lk)("div",{class:"modal-content",onClick:a[18]||(a[18]=(0,d.D$)(function(){},["stop"]))},[(0,o.Lk)("div",na,[(0,o.Lk)("h3",null,(0,c.v_)(e.$t("profile.resetSecurityTitle")),1),(0,o.Lk)("button",{class:"modal-close",onClick:a[16]||(a[16]=function(e){return Ea.value=!1})},[(0,o.bF)((0,u.R1)(m.MRt),{size:20})])]),(0,o.Lk)("div",sa,[(0,o.Lk)("p",null,(0,c.v_)(e.$t("profile.resetSecurityConfirm")),1)]),(0,o.Lk)("div",ta,[(0,o.Lk)("button",{class:"btn-cancel",onClick:a[17]||(a[17]=function(e){return Ea.value=!1})},(0,c.v_)(e.$t("common.cancel")),1),(0,o.Lk)("button",{class:"btn-submit danger",onClick:dl,disabled:Ka.value},[Ka.value?((0,o.uX)(),(0,o.CE)("span",ra)):(0,o.Q3)("",!0),(0,o.eW)(" "+(0,c.v_)(e.$t("common.confirm")),1)],8,ia)])])])):(0,o.Q3)("",!0)]}),_:1})]),a[24]||(a[24]=(0,o.Lk)("div",{class:"bottom-safe-area"},null,-1))]),(0,o.bF)(d.eB,{name:"modal-fade"},{default:(0,o.k6)(function(){var l,n;return[Oa.value?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"modal-overlay",onClick:rl},[(0,o.Lk)("div",{class:"modal-content",onClick:a[20]||(a[20]=(0,d.D$)(function(){},["stop"]))},[(0,o.Lk)("div",oa,[(0,o.Lk)("h3",null,(0,c.v_)(e.$t("profile.bindTelegram")),1),(0,o.Lk)("button",{class:"modal-close",onClick:rl},[(0,o.bF)((0,u.R1)(m.MRt),{size:20})])]),(0,o.Lk)("div",ca,[(0,o.Lk)("div",ua,[(0,o.Lk)("div",da,[(0,o.Lk)("div",va,(0,c.v_)(e.$t("profile.telegramStep1")),1),(0,o.Lk)("div",fa,[(0,o.Lk)("p",null,[(0,o.eW)((0,c.v_)(e.$t("profile.telegramSearchTip"))+" ",1),(0,o.Lk)("a",{href:"https://t.me/".concat(null===(l=Qa.value)||void 0===l?void 0:l.username),target:"_blank",class:"tg-link"}," @"+(0,c.v_)(null===(n=Qa.value)||void 0===n?void 0:n.username),9,pa)])])]),(0,o.Lk)("div",ka,[(0,o.Lk)("div",ma,(0,c.v_)(e.$t("profile.telegramStep2")),1),(0,o.Lk)("div",ba,[(0,o.Lk)("p",null,(0,c.v_)(e.$t("profile.telegramSendCommand")),1),(0,o.Lk)("div",La,[(0,o.Lk)("pre",ga,"/bind "+(0,c.v_)(Sa.value),1),(0,o.Lk)("button",{class:"copy-command-btn",onClick:ol},[(0,o.bF)((0,u.R1)(m.bzS),{size:16})])])])])])]),(0,o.Lk)("div",wa,[(0,o.Lk)("button",{class:"btn-submit",onClick:rl},(0,c.v_)(e.$t("profile.iKnow")),1)])])])):(0,o.Q3)("",!0)]}),_:1})],64)}}});const _a=(0,l(66262).A)(ha,[["__scopeId","data-v-5aacb999"]])},16034:(e,a,l)=>{var n=l(46518),s=l(32357).values;n({target:"Object",stat:!0},{values:function(e){return s(e)}})},32357:(e,a,l)=>{var n=l(43724),s=l(79039),t=l(79504),i=l(42787),r=l(71072),o=l(25397),c=t(l(48773).f),u=t([].push),d=n&&s(function(){var e=Object.create(null);return e[2]=2,!c(e,2)}),v=function(e){return function(a){for(var l,s=o(a),t=r(s),v=d&&null===i(s),f=t.length,p=0,k=[];f>p;)l=t[p++],n&&!(v?l in s:c(s,l))||u(k,e?[l,s[l]]:s[l]);return k}};e.exports={entries:v(!0),values:v(!1)}}}]);