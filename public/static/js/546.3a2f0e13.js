"use strict";(self.webpackChunkez_theme=self.webpackChunkez_theme||[]).push([[546],{37546:(e,a,r)=>{r.r(a),r.d(a,{default:()=>C});var t=r(20641),n=r(90033),s={class:"api-validation-page"},i={class:"validation-container"},c={class:"loading-animation"},u={class:"progress-ring"},o={viewBox:"0 0 100 100"},l=["stroke-dasharray","stroke-dashoffset"],v={class:"progress-text"},f={class:"status-info"},p={class:"status-title"},d={class:"status-progress"};var _=r(78676),h=r(20908),g=r(3604),k=r(30388),m=r(41034),A=(r(28706),r(51629),r(74423),r(64346),r(60739),r(18111),r(7588),r(33110),r(79432),r(26099),r(27495),r(21699),r(47764),r(25440),r(23500),r(62953),r(76031),r(48408),r(14603),r(47566),r(98721),r(50953)),I=r(75220),w=r(80394),y=r(98400);const b={name:"ApiValidation",setup:function(){var e=(0,I.rd)(),a=(0,I.lq)(),r=(0,A.KR)(w.SITE_CONFIG),n=(0,y.D)().theme,s=(0,t.EW)(function(){return"dark"===n.value}),i=(0,A.KR)(!0),c=(0,A.KR)(0),u=(0,A.KR)(0),o=(0,A.KR)(null),l=2*Math.PI*45,v=(0,t.EW)(function(){return 0===u.value?l:l*(1-c.value/u.value)}),f=(0,t.EW)(function(){return 0===u.value?0:Math.round(c.value/u.value*100)}),p=(0,t.EW)(function(){var e=a.query.redirect||"/";e.includes("?")&&(e=e.split("?")[0]);var r=(0,m.A)({},a.query);return delete r.redirect,{path:e,query:r}}),d=function(){var e=(0,k.A)((0,h.A)().m(function e(){var a,r,t,n,s,i,l,v,f;return(0,h.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if("undefined"!=typeof window&&window.EZ_CONFIG){e.n=1;break}return C(),e.a(2);case 1:if(!0!==window.EZ_CONFIG.API_MIDDLEWARE_ENABLED){e.n=2;break}return C(),e.a(2);case 2:if((a=window.EZ_CONFIG.API_CONFIG)&&"static"===a.urlMode){e.n=3;break}return C(),e.a(2);case 3:if(r=a.staticBaseUrl,Array.isArray(r)&&!(r.length<=1)){e.n=4;break}return C(),e.a(2);case 4:if(!(t=sessionStorage.getItem("ez_api_available_url"))){e.n=5;break}return o.value=t,C(),e.a(2);case 5:u.value=r.length,n=(0,g.A)(r),e.p=6,n.s();case 7:if((s=n.n()).done){e.n=13;break}return i=s.value,e.p=8,e.n=9,b(i);case 9:if(l=e.v,c.value++,!l){e.n=10;break}return sessionStorage.setItem("ez_api_available_url",i),o.value=i,window.EZ_CONFIG&&(window.EZ_CONFIG._AVAILABLE_API_URL=i),c.value=u.value,setTimeout(function(){C()},500),e.a(2);case 10:e.n=12;break;case 11:e.p=11,e.v,c.value++;case 12:e.n=7;break;case 13:e.n=15;break;case 14:e.p=14,f=e.v,n.e(f);case 15:return e.p=15,n.f(),e.f(15);case 16:v=window.EZ_CONFIG.API_CONFIG.staticBaseUrl[0],sessionStorage.setItem("ez_api_available_url",v),o.value=v,c.value=u.value,setTimeout(function(){C()},500);case 17:return e.a(2)}},e,null,[[8,11],[6,14,15,16]])}));return function(){return e.apply(this,arguments)}}(),b=function(){var e=(0,k.A)((0,h.A)().m(function e(a){var r,t,n,s,i;return(0,h.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r="".concat(a,"/guest/comm/config"),t=new AbortController,n=setTimeout(function(){return t.abort()},5e3),e.n=1,fetch(r,{method:"GET",signal:t.signal,headers:{Accept:"application/json","Content-Type":"application/json"}});case 1:if(s=e.v,clearTimeout(n),s.ok){e.n=2;break}return e.a(2,!1);case 2:return e.n=3,s.json();case 3:return i=e.v,e.a(2,i&&(void 0!==i.data||void 0!==i.message));case 4:return e.p=4,e.v,e.a(2,!1)}},e,null,[[0,4]])}));return function(a){return e.apply(this,arguments)}}(),C=function(){i.value=!1;try{var a=p.value.path,r=(0,m.A)({},p.value.query);if(a.includes("?")){var t=a.split("?"),n=(0,_.A)(t,2),s=n[0],c=n[1];a=s,new URLSearchParams(c).forEach(function(e,a){r[a]=e})}var u=sessionStorage.getItem("ez_original_query_params");if(u)try{var o=JSON.parse(u);r=(0,m.A)((0,m.A)({},r),o),sessionStorage.removeItem("ez_original_query_params")}catch(e){}e.replace({path:a,query:r})}catch(a){e.replace(p.value.path)}};return(0,t.sV)(function(){var e=(0,m.A)({},a.query);delete e.redirect,Object.keys(e).length>0&&sessionStorage.setItem("ez_original_query_params",JSON.stringify(e)),d()}),{siteConfig:r,isChecking:i,checkedCount:c,totalApis:u,availableApiUrl:o,circumference:l,dashOffset:v,progressPercent:f,isDarkTheme:s,redirectInfo:p}}};const C=(0,r(66262).A)(b,[["render",function(e,a,r,_,h,g){return(0,t.uX)(),(0,t.CE)("div",s,[(0,t.Lk)("div",i,[(0,t.Lk)("div",c,[(0,t.Lk)("div",u,[((0,t.uX)(),(0,t.CE)("svg",o,[a[0]||(a[0]=(0,t.Lk)("circle",{class:"progress-ring-bg",cx:"50",cy:"50",r:"45"},null,-1)),(0,t.Lk)("circle",{class:"progress-ring-circle",cx:"50",cy:"50",r:"45","stroke-dasharray":_.circumference,"stroke-dashoffset":_.dashOffset},null,8,l)])),(0,t.Lk)("div",v,(0,n.v_)(_.progressPercent)+"%",1)])]),(0,t.Lk)("div",f,[(0,t.Lk)("h2",p,(0,n.v_)(e.$t("common.apiChecking")),1),(0,t.Lk)("p",d,(0,n.v_)(_.checkedCount)+"/"+(0,n.v_)(_.totalApis)+" "+(0,n.v_)(e.$t("common.completed")),1)])])])}],["__scopeId","data-v-002bc4c7"]])}}]);